"use strict";(self["webpackChunkporc"]=self["webpackChunkporc"]||[]).push([[335],{52:(e,o,r)=>{r.d(o,{A:()=>d});var n=r(641);function t(e,o,r,t,a,s){const i=(0,n.g2)("ion-icon"),l=(0,n.g2)("ion-button");return(0,n.uX)(),(0,n.Wv)(l,{onClick:e.toggleDarkMode},{default:(0,n.k6)((()=>[(0,n.bF)(i,{icon:e.darkMode?e.moon:e.sunny,slot:"icon-only"},null,8,["icon"])])),_:1},8,["onClick"])}var a=r(988),s=r(480),i=r(781);const l=(0,n.pM)({name:"DarkModeToggle",components:{IonButton:a.Jm,IonIcon:a.iq},setup(){const e=(0,i.C)(),o=(0,n.EW)((()=>e.isDark)),r=()=>{e.toggleTheme()};return{darkMode:o,toggleDarkMode:r,moon:s.SwX,sunny:s.clu}}});var c=r(262);const g=(0,c.A)(l,[["render",t]]),d=g},238:(e,o,r)=>{r.d(o,{i:()=>n});class n{ConvertNelaUrgency(e){return 4==e?3:e}harmoniseParams(e){const o={age:parseFloat(e.age),asa:parseFloat(e.asa),albumin:parseFloat(e.albumin),bp:parseFloat(e.bp),pulse:parseFloat(e.pulse),urea:parseFloat(e.urea),gcs:parseFloat(e.gcs),respiratory:parseFloat(e.respiratory),wcc:parseFloat(e.wcc),cepod:parseFloat(e.cepod),soiling:parseFloat(e.soiling),cancer:parseFloat(e.cancer),indHaemorrhage:e.indHaemorrhage,indAbdominalWoundDehiscence:e.indAbdominalWoundDehiscence,indAbdominalCompartmentSyndrome:e.indAbdominalCompartmentSyndrome,indPlannedRelook:e.indPlannedRelook,indOther:e.indOther,indTenderSmallBowelObstruction:e.indTenderSmallBowelObstruction,indNonTenderSmallBowelObstruction:e.indNonTenderSmallBowelObstruction,indTenderLargeBowelObstruction:e.indTenderLargeBowelObstruction,indNonTenderLargeBowelObstruction:e.indNonTenderLargeBowelObstruction,indGastricOutletObstruction:e.indGastricOutletObstruction,indIncarceratedHernia:e.indIncarceratedHernia,indHiatusHernia:e.indHiatusHernia,indVolvulus:e.indVolvulus,indInternalHernia:e.indInternalHernia,indObstructingIncisionalHernia:e.indObstructingIncisionalHernia,indIntussusception:e.indIntussusception,indPseudoObstruction:e.indPseudoObstruction,indForeignBody:e.indForeignBody,indPhlegmon:e.indPhlegmon,indPneumoperitoneum:e.indPneumoperitoneum,indSepsisOther:e.indSepsisOther,indIatrogenicInjury:e.indIatrogenicInjury,indAnastomoticLeak:e.indAnastomoticLeak,indPeritonitis:e.indPeritonitis,indPerforation:e.indPerforation,indAbdominalAbscess:e.indAbdominalAbscess,indIntestinalFistula:e.indIntestinalFistula,indNecrosis:e.indNecrosis,indIschaemia:e.indIschaemia,indColitis:e.indColitis,indAcidosis:e.indAcidosis};return o}NelaV2(e){const o=-3.04678,r=.0666,n=1.13007,t=1.76293,a=2.55345,s=-.03021,i=-.03356,l=-.04676,c=-.04323,g=.01265,d=-12e-5,u=-.00683,p=11e-5,m=.38002,b=.02041,I=.24153,y=.41557,h=.6448,A=.19201,P=.5061,M=.94309,C=.35378,S=.607,f=.03782,v=.14779,k=.5731,w=.02812,B=.56948,O=-.40615,Y=.29453,U=e.age-64,N=Math.max(e.asa,2),H=Math.min(55,Math.max(10,e.albumin));let E=Math.min(145,Math.max(55,e.pulse));E-=91;let F=Math.min(190,Math.max(70,e.bp));F-=127;let T=Math.log(Math.max(e.urea,1));T=Math.min(3.7,Math.max(.5,T)),T-=1.9;let D=Math.log(e.wcc);D=Math.min(3.6,Math.max(.8,D)),D-=2.4;let G=0;1==e.ind_ischaemia||1==e.indNecrosis||1==e.indIschaemia||1==e.indAcidosis||1==e.indColitis?G=3:1==e.ind_sepsis||1==e.indPhlegmon||1==e.indPneumoperitoneum||1==e.indSepsisOther||1==e.indIatrogenicInjury||1==e.indAnastomoticLeak||1==e.indPerforation||1==e.indPeritonitis||1==e.indAbdominalAbscess||1==e.indIntestinalFistula?G=2:1==e.ind_obst||1==e.indTenderSmallBowelObstruction||1==e.indNonTenderSmallBowelObstruction||1==e.indTenderLargeBowelObstruction||1==e.indNonTenderLargeBowelObstruction||1==e.indGastricOutletObstruction||1==e.indIncarceratedHernia||1==e.indHiatusHernia||1==e.indVolvulus||1==e.indInternalHernia||1==e.indObstructingIncisionalHernia||1==e.indIntussusception||1==e.indPseudoObstruction||1==e.indForeignBody?G=1:1==e.indAbdominalWoundDehiscence||1==e.indAbdominalCompartmentSyndrome||1==e.indPlannedRelook||1==e.indOther?G=5:1!=e.ind_bleed&&1!=e.indHaemorrhage||(G=4);const W={};W.Age=r*U,W.Asa3=n*(3==N?1:0),W.Asa4=t*(4==N?1:0),W.Asa5=a*(5==N?1:0),W.Asa3Age=s*(3==N?1:0)*U,W.Asa4Age=i*(4==N?1:0)*U,W.Asa5Age=l*(5==N?1:0)*U,W.Albumin=c*H,W.Pulse=g*E,W.Pulse2=d*Math.pow(E,2),W.SystolicBP=u*F,W.SystolicBP2=p*Math.pow(F,2),W.Urea=m*T,W.WBC=b*D,W.WBC2=I*Math.pow(D,2),W.GCS14=y*(14==e.gcs?1:0),W.GCS3_13=h*(e.gcs>=3&&e.gcs<=13?1:0),W.MalignancyPrimary=A*(2==e.cancer?1:0),W.MalignancyNodalMetastases=P*(4==e.cancer?1:0),W.MalignancyDistantMetastases=M*(8==e.cancer?1:0),W.Respiratory2=C*(2==e.respiratory?1:0),W.Respiratory3=S*(e.respiratory>=4?1:0),W.Urgency6_18Hrs=f*(2==e.cepod?1:0),W.Urgency2_6Hrs=v*(3==this.ConvertNelaUrgency(e.cepod)?1:0),W.UrgencyUnder2hrs=k*(8==e.cepod?1:0),W.IndicationSepsis=w*(2==G?1:0),W.IndicationIschaemia=B*(3==G?1:0),W.IndicationBleeding=O*(4==G?1:0),W.Soiling=Y*(8==e.soiling?1:0);let R=o+W.Age+W.Asa3+W.Asa4+W.Asa5+W.Asa3Age+W.Asa4Age+W.Asa5Age+W.Albumin+W.Pulse+W.Pulse2+W.SystolicBP+W.SystolicBP2+W.Urea+W.WBC+W.WBC2+W.GCS14+W.GCS3_13+W.MalignancyPrimary+W.MalignancyNodalMetastases+W.MalignancyDistantMetastases+W.Respiratory2+W.Respiratory3+W.Urgency6_18Hrs+W.Urgency2_6Hrs+W.UrgencyUnder2hrs+W.IndicationSepsis+W.IndicationIschaemia+W.IndicationBleeding+W.Soiling;return console.log("Age="+W.Age),console.log("Asa3="+W.Asa3),console.log("Asa4="+W.Asa4),console.log("Asa5="+W.Asa5),console.log("Asa3Age="+W.Asa3Age),console.log("Asa4Age\t="+W.Asa4Age),console.log("Asa5Age="+W.Asa5Age),console.log("Albumin="+W.Albumin),console.log("Pulse="+W.Pulse),console.log("Pulse2="+W.Pulse2),console.log("SystolicBP="+W.SystolicBP),console.log("SystolicBP2="+W.SystolicBP2),console.log("Urea="+W.Urea),console.log("WBC="+W.WBC),console.log("WBC2="+W.WBC2),console.log("GCS14="+W.GCS14),console.log("GCS3_13="+W.GCS3_13),console.log("MalignancyPrimary="+W.MalignancyPrimary),console.log("MalignancyNodalMetastases="+W.MalignancyNodalMetastases),console.log("MalignancyDistantMetastases="+W.MalignancyDistantMetastases),console.log("Respiratory2="+W.Respiratory2),console.log("Respiratory3="+W.Respiratory3),console.log("Urgency6_18Hrs="+W.Urgency6_18Hrs),console.log("Urgency2_6Hrs="+W.Urgency2_6Hrs),console.log("UrgencyUnder2hrs="+W.UrgencyUnder2hrs),console.log("IndicationSepsis="+W.IndicationSepsis),console.log("IndicationIschaemia="+W.IndicationIschaemia),console.log("IndicationBleeding="+W.IndicationBleeding),console.log("Soiling="+W.Soiling),R=Math.exp(R)/(1+Math.exp(R)),R=Math.round(1e4*R)/100,{mortality:R,eq:W,error:{state:!1,message:"PASSED"}}}calcNELA(e){const o=this.NELADATACHECK(e);if(!o.err){const o=parseInt(e.creatinine)+1;let r=Math.log(o);r>6&&(r=6),r<3.3&&(r=3.3);const n=-.3093507*(r-4),t=.2428102*Math.pow(r-4,2);r=n+t;let a=parseInt(e.sodium);a>148&&(a=148),a<124&&(a=124);const s=-7271e-7*Math.pow(a-123,3),i=2304e-7*Math.pow(a-123,3)*Math.log(a-123);a=s+i;let l=parseInt(e.bp);l>190&&(l=190),l<70&&(l=70);const c=-.0090343*(l-127),g=1137e-7*Math.pow(l-127,2);l=c+g;let d=parseInt(e.pulse);d>145&&(d=145),d<55&&(d=55);const u=.0132113*(d-91),p=-1264e-7*Math.pow(d-91,2);d=u+p;let m=parseFloat(e.wcc);m>42.7&&(m=42.7),m<1&&(m=1);const b=-.0072917*(m-13),I=.0013263*Math.pow(m-13,2);m=b+I;let y=parseFloat(e.urea);y=Math.log(y),y>3.7&&(y=3.7),y<0&&(y=0);const h=.4227387*(y-1.9),A=-.0542346*Math.pow(y-1.9,2);y=h+A;let P=parseFloat(e.potassium);P>5.9&&(P=5.9),P<2.8&&(P=2.8);const M=-.0994759*(P-4),C=.1699467*Math.pow(P-4,2);P=M+C;let S=1,f=0,v=0;switch(parseInt(e.asa)){case 1:v=1,2==parseInt(e.respiratory)&&(f=.5395227),parseInt(e.respiratory)>3&&(f=1.2601628);break;case 2:v=2,2==parseInt(e.respiratory)&&(f=.5395227),parseInt(e.respiratory)>3&&(f=1.2601628);break;case 4:v=3,2==parseInt(e.respiratory)&&(f=.3587618),parseInt(e.respiratory)>3&&(f=.7164019);break;case 8:v=4,2==parseInt(e.respiratory)&&(f=.22382020000000002),parseInt(e.respiratory)>3&&(f=.3913588);break;case 16:v=5,2==parseInt(e.respiratory)&&(f=.2382305),parseInt(e.respiratory)>3&&(f=.35495960000000004);break}let k=0,w=0;switch(S=0,v){case 3:k=-.0235901,w=-1441e-7,S=1.0573609;break;case 4:k=-.0276586,w=669e-7,S=1.854601;break;case 5:k=-.0337041,w=25e-5,S=2.6489194;break}const B=(.0572932+k)*(parseInt(e.age)-64),O=(1274e-7+w)*Math.pow(parseInt(e.age)-64,2),Y=B+O;let U=0;1==parseInt(e.gender)&&(U=.0280548);let N=0;switch(parseInt(e.cardiac)){case 2:N=.1054722;break;case 4:N=.2655433;break;case 8:N=.3017798;break}let H=0;switch(parseInt(e.cepod)){case 2:H=-.0617987;break;case 4:H=.0787992;break;case 8:H=.4708663;break}let E=0;switch(parseInt(e.ecg)){case 2:E=.3375291;break;case 4:E=.1411111;break}let F=0;switch(parseInt(e.number)){case 2:F=-.2888454;break;case 4:F=-.1316191;break}let T=0;8==parseInt(e.severity)&&(T=.2043578);let D=0;switch(parseInt(e.blood)){case 2:D=.0563362;break;case 4:D=.3148512;break;case 8:D=-.0278452;break}let G=0;switch(parseInt(e.soiling)){case 2:G=.1727508;break;case 4:G=-.083714;break;case 8:G=.4387634;break}let W=0;switch(parseInt(e.cancer)){case 2:W=.0332072;break;case 4:W=.3666088;break;case 8:W=.9988459;break}let R=0;switch(parseInt(e.gcs)){case 2:R=.6355512;break;case 4:R=.7842625;break}console.log("`ASA("+v+"):` "+S),console.log("`AGE("+parseInt(e.age)+"):` "+Y),console.log("`GENDER`: "+U),console.log("`CARDIAC:` "+N),console.log("`RESP:` "+f),console.log("`ECG:` "+E),console.log("`BP:` "+l),console.log("`PULSE:` "+d),console.log("`HB:` "+e.hb),console.log("`WCC:` "+m),console.log("`UREA:` "+y),console.log("`SODIUM:` "+a),console.log("`POTASSIUM:` "+P),console.log("`GCS:` "+R),console.log("`SEVERITY:` "+T),console.log("`NUMBER:` "+F),console.log("`BLOOD:` "+D),console.log("`SOILING:` "+G),console.log("`CANCER:` "+W),console.log("`CEPOD:` "+H),console.log("`CREATININE:` "+r),console.log("NELA year 2 factor: -0.0388465");let L=-4.3488269+S+Y+U+N+f+E+l+d+m+y+a+P+R+T+F+D+G+W+H+r;L=Math.exp(L),L/=1+L;let _=L;return _=Math.round(1e3*_)/10,console.log("mortality: "+_),{mortality:_,error:{state:!1,message:"PASSED"}}}console.log("TODO")}NELADATACHECK(e){let o=!1,r="";return console.log(e.age),void 0===e.age||""===e.age?(r="You forgot to enter an age",o=!0,{erm:r,err:o}):parseInt(e.age)?parseInt(e.age)<18?(console.log("Age <18"),r="The NELA calculator is not validated in patients under 18 years of age. A risk calculation cannot be performed.",o=!0,{erm:r,err:o}):parseInt(e.age)>105?(console.log("Age >105"),r="The NELA calculator is not validated in patients aged over 105 years. A risk calculation cannot be performed.",o=!0,{erm:r,err:o}):void 0===e.asa||""===e.asa?(r="You forgot to enter an ASA grade",o=!0,{erm:r,err:o}):void 0===e.gender||""===e.gender?(r="You forgot to enter a gender",o=!0,{erm:r,err:o}):void 0===e.cardiac||""===e.cardiac?(console.log("You forgot to enter cardiac data"),r="You forgot to enter cardiac data",o=!0,{erm:r,err:o}):void 0===e.respiratory||""===e.respiratory?(console.log("You forgot to enter respiratory data"),r="You forgot to enter respiratory data",o=!0,{erm:r,err:o}):void 0===e.ecg||""===e.ecg?(console.log("You forgot to enter ECG data"),r="You forgot to enter ECG data",o=!0,{erm:r,err:o}):void 0===e.bp||""===e.bp?(console.log("You forgot to enter BP data"),r="You forgot to enter BP data",o=!0,{erm:r,err:o}):parseInt(e.bp)?parseInt(e.bp)<0?(r="Blood pressure cannot be negative",o=!0,{erm:r,err:o}):void 0===e.pulse||""===e.pulse?(console.log("You forgot to enter pulse rate data"),r="You forgot to enter pulse rate data",o=!0,{erm:r,err:o}):parseInt(e.pulse)?parseInt(e.pulse)<0?(r="Pulse cannot be negative",o=!0,{erm:r,err:o}):void 0===e.wcc||""===e.wcc?(console.log("You forgot to enter WCC data"),r="You forgot to enter White Cell Count data",o=!0,{erm:r,err:o}):parseInt(e.wcc)?parseInt(e.wcc)<0?(r="White Cell Count cannot be negative",o=!0,{erm:r,err:o}):void 0===e.urea||""===e.urea?(console.log("You forgot to enter urea concentration"),r="You forgot to enter urea concentration",o=!0,{erm:r,err:o}):parseInt(e.urea)?parseInt(e.urea)<0?(r="Urea cannot be negative",o=!0,{erm:r,err:o}):void 0===e.creatinine||""===e.creatinine?(r="You forgot to enter a creatinine",o=!0,{erm:r,err:o}):parseInt(e.creatinine)?parseInt(e.creatinine)<0?(r="Creatinine cannot be negative",o=!0,{erm:r,err:o}):void 0===e.sodium||""===e.sodium?(console.log("You forgot to enter sodium concentration"),r="You forgot to enter sodium concentration",o=!0,{erm:r,err:o}):parseInt(e.sodium)?parseInt(e.sodium)<0?(r="Sodium cannot be negative",o=!0,{erm:r,err:o}):void 0===e.potassium||""===e.potassium?(console.log("You forgot to enter potassium concentration"),r="You forgot to enter potassium concentration",o=!0,{erm:r,err:o}):parseInt(e.potassium)?parseInt(e.potassium)<0?(r="Potassium cannot be negative",o=!0,{erm:r,err:o}):void 0===e.gcs||""===e.gcs?(console.log("You forgot to enter the patient's GCS"),r="You forgot to enter the patient's GCS",o=!0,{erm:r,err:o}):void 0===e.severity||""===e.severity?(console.log("You forgot to enter the operative severity"),r="You forgot to enter the operative severity",o=!0,{erm:r,err:o}):void 0===e.number||""===e.number?(console.log("You forgot to enter the number of procedures"),r="You forgot to enter the number of procedures",o=!0,{erm:r,err:o}):void 0===e.blood||""===e.blood?(console.log("You forgot to enter the blood loss"),r="You forgot to enter the blood loss",o=!0,{erm:r,err:o}):void 0===e.soiling||""===e.soiling?(console.log("You forgot to enter degree of soiling"),r="You forgot to enter degree of soiling",o=!0,{erm:r,err:o}):void 0===e.cancer||""===e.cancer?(console.log("You forgot to enter the cancer status"),r="You forgot to enter the cancer status",o=!0,{erm:r,err:o}):void 0===e.cepod||""===e.cepod?(console.log("You forgot to enter the urgency of surgery"),r="You forgot to enter the urgency of surgery",o=!0,{erm:r,err:o}):{erm:r,err:o}:(r="Potassium is not a number",o=!0,{erm:r,err:o}):(r="Sodium is not a number",o=!0,{erm:r,err:o}):(r="Creatinine is not a number",o=!0,{erm:r,err:o}):(r="Urea is not a number",o=!0,{erm:r,err:o}):(r="White Cell Count is not a number",o=!0,{erm:r,err:o}):(r="Pulse is not a number",o=!0,{erm:r,err:o}):(r="Blood pressure is not a number",o=!0,{erm:r,err:o}):(r="Age is not a number",o=!0,{erm:r,err:o})}ppcalcOld(e,o){console.log(JSON.stringify(e));let r=0,n=0;o?(r=e.age+e.cardiac+e.respiratory+e.ecg+e.bp+e.pulse+e.gcs+e.hb+e.wcc+e.urea+e.sodium+e.potassium,n=e.severity+e.number+e.blood+e.soiling+e.cancer+e.cepod):(r=parseInt(e.age,10)+parseInt(e.cardiac,10)+parseInt(e.respiratory,10)+parseInt(e.ecg,10)+parseInt(e.bp,10)+parseInt(e.pulse,10)+parseInt(e.gcs,10)+parseInt(e.hb,10)+parseInt(e.wcc,10)+parseInt(e.urea,10)+parseInt(e.sodium,10)+parseInt(e.potassium,10),n=parseInt(e.severity,10)+parseInt(e.number,10)+parseInt(e.blood,10)+parseInt(e.soiling,10)+parseInt(e.cancer,10)+parseInt(e.cepod,10)),console.log("physiology score = "+r),console.log("operative score = "+n);let t=1/(1+1/Math.exp(.16*r-5.91+.19*n));t=Math.round(1e3*t)/10,console.log("morbidity = "+t+"%");let a=1/(1+1/Math.exp(.1692*r-9.065+.155*n));return a=Math.round(1e3*a)/10,console.log("mortality = "+a+"%"),console.log("morbidity: "+t),console.log("mortality: "+a),{morbidity:t,mortality:a}}ppcalc(e,o){console.log(JSON.stringify(e));let r=0,n=0;o?(r=e.age+e.cardiac+e.respiratory+e.ecg+e.bp+e.pulse+e.gcs+e.hb+e.wcc+e.urea+e.sodium+e.potassium,n=e.severity+e.number+e.blood+e.soiling+e.cancer+e.cepod):(r=this.PPossumAge(parseInt(e.age,10))+parseInt(e.cardiac,10)+parseInt(e.respiratory,10)+parseInt(e.ecg,10)+this.PPossumBP(parseInt(e.bp,10))+this.PPossumPulse(parseInt(e.pulse,10))+parseInt(e.gcs,10)+parseInt(e.hb,10)+this.PPossumWCC(parseInt(e.wcc,10))+this.PPossumUrea(parseInt(e.urea,10))+this.PPossumSodium(parseInt(e.sodium,10))+this.PPossumPotassium(parseInt(e.potassium,10)),n=parseInt(e.severity,10)+parseInt(e.number,10)+parseInt(e.blood,10)+parseInt(e.soiling,10)+parseInt(e.cancer,10)+this.PPossumUrgency(parseInt(e.cepod,10))),console.log("physiology score = "+r),console.log("operative score = "+n);let t=1/(1+1/Math.exp(.16*r-5.91+.19*n));t=Math.round(1e3*t)/10,console.log("morbidity = "+t+"%");let a=1/(1+1/Math.exp(.1692*r-9.065+.155*n));return a=Math.round(1e3*a)/10,console.log("mortality = "+a+"%"),console.log("morbidity: "+t),console.log("mortality: "+a),{morbidity:t,mortality:a}}PPossumAge(e){return e<61?1:e>=61&&e<=70?2:4}PPossumBP(e){return e<90?8:e<100?4:e<110?2:e<=130?1:e<=170?2:4}PPossumPulse(e){return e<40?8:e<50?2:e<=80?1:e<=100?2:e<=120?4:8}PPossumWCC(e){return e<=3?4:e<=4?2:e<=10?1:e<=20?2:4}PPossumUrea(e){return e<=7.5?1:e<=10?2:e<=15?4:8}PPossumSodium(e){return e<=125?8:e<=130?4:e<=135?2:1}PPossumPotassium(e){return e<=2.8?8:e<=3.1?4:e<=3.4?2:e<=5?1:e<=5.3?2:e<=5.9?4:8}PPossumGCS(e){return e<=8?8:e<=11?4:e<=14?2:1}PPossumUrgency(e){return 8==e?8:4}}}}]);
//# sourceMappingURL=335.ba6671ec.js.map